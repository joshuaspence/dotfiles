# To print debug messages, run the command: `touch ~/.rcfiles.debug`
[ -e ${HOME}/.rcfiles.debug ] && echo "Parsing ~/.screenrc..." >&2

startup_message off

shell -${SHELL}
altscreen on
defbce on
shelltitle "$ |bash"
term 'screen-s'

# No annoying screen flashes.
vbell off

# Display a line at the bottom with hostname, window titles & time.
hardstatus alwayslastline
hardstatus string '%{= kG}[ %{G}%H %{g}][%= %{= kw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{B} %Y-%m-%d %{W}%C%a %{g}]'

# Always send backspace as ^?, which is consistent with the bundled terminfo.
bindkey -k kb stuff ^?

for file in $(find ${HOME} -maxdepth 1 -type f -regextype posic-basic -regex ".*/.\+\.screenrc"); do
    [ -e ${HOME}/.rcfiles.debug ] && echo "Sourcing ${file}..." >&2
    source ${file}
done

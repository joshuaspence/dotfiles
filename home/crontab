#!/usr/bin/env ruby

#/
## Use {@link https://github.com/javan/whenever whenever} to update crontab.
##
## <code>
## whenever --update-crontab --load-file ~/.crontab
## </code>
#\

set :output, {:error => '/tmp/cron-error.log', :standard => '/tmp/cron.log'}

# Self-updating crontab.
every :day, :at => '10:00am' do
  command 'whenever --update-crontab --load-file ${HOME}/.crontab'
end

# Delete pesky `.goutputstream-*` files.
every :reboot do
  command 'find ~ -name ".goutputstream-[[:alnum:]][[:alnum:]][[:alnum:]][[:alnum:]][[:alnum:]][[:alnum:]]" -delete'
end

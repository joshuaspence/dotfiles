# Check for the prerequisite functions.
(
     command -v pygmentize >/dev/null &&
     command -v python >/dev/null 
) || return 1

# Syntax-highlight JSON strings or files
json() {
    if [ -p /dev/stdin ]; then
        # piping, e.g. `echo '{"foo":42}' | json`
        python -mjson.tool | pygmentize -l javascript
    else
        # e.g. `json '{"foo":42}'`
        python -mjson.tool <<< "$*" | pygmentize -l javascript
    fi
}
